# 테스트

## Chapter 12: 자동 테스트
- **자동 테스트**는 개발에서 반복적으로 수행해야 하는 테스트를 자동화하여 효율성을 높임.
    - 테스트 자동화는 코드 수정 후 빠르게 피드백을 받을 수 있음.
    - 반복적인 수동 테스트를 줄여 시간 절약 및 실수 방지.
    - CI/CD 파이프라인에서 필수적.

- **테스트 자동화의 종류**:
    1. **단위 테스트**:
        - 개별 모듈 또는 클래스의 동작을 테스트.
        - 빠른 피드백 제공.
    2. **통합 테스트**:
        - 여러 모듈이 함께 동작하는지 확인.
        - 서비스, 데이터베이스 등 외부 시스템과의 상호작용 포함.
    3. **엔드투엔드(E2E) 테스트**:
        - 사용자 관점에서 시스템 전체를 테스트.
        - 실제 사용자 경험과 동일한 흐름을 검증함.

## Chapter 13: 테스트 피라미드
- **테스트 피라미드**는 각 테스트 유형의 비율을 제안하는 개념.
    - **단위 테스트**: 피라미드의 가장 큰 부분으로, 가장 많은 수의 테스트를 작성.
        - 빠르게 실행되며 오류의 원인을 쉽게 파악 가능.
    - **통합 테스트**: 중간층. 단위 테스트보다는 적게 작성하나 중요.
        - 서비스 간의 상호작용을 테스트.
    - **E2E 테스트**: 피라미드의 상단. 비용이 크고, 실행 시간이 길어 상대적으로 적게 작성.
        - 실제 사용자 시나리오 기반으로 전체 시스템을 검증.

- 피라미드 구조를 유지해야 전체적인 테스트 효율성을 극대화할 수 있음.

## Chapter 14: 테스트 대역
- **테스트 대역(Test Double)**은 실제 의존성을 대체하기 위해 사용하는 테스트용 객체.
    - 실제 객체 대신 테스트에서 사용하여 속도를 높이고 테스트 환경을 독립적으로 유지.
    - **종류**:
        1. **목(Mocks)**:
            - 특정 행위가 발생했는지 검증하는 테스트 대역.
            - 메서드 호출 여부와 횟수 등을 확인.
        2. **스텁(Stub)**:
            - 미리 정의된 값으로 응답하는 객체.
            - 테스트 대상의 동작이 일정한 결과를 내도록 고정함.
        3. **페이크(Fake)**:
            - 실제로 동작하지만, 간단하게 구현된 객체.
            - 예를 들어, 인메모리 데이터베이스 등.
        4. **스파이(Spy)**:
            - 실제 객체처럼 동작하면서 호출된 메서드나 인자를 기록.
        5. **더미(Dummy)**:
            - 사용되지 않지만, 인자로 전달해야 할 때 쓰는 객체.

## Chapter 15: 테스트 가능성
- **테스트 가능성**은 코드가 얼마나 쉽게 테스트될 수 있는지를 의미함.
    - 코드가 테스트 가능하려면 의존성이 분리되고, 특정 환경에 종속적이지 않아야 함.
    - **좋은 테스트 가능성의 특징**:
        1. **의존성 주입**: 외부 시스템이나 객체의 의존성을 주입받으면 더 쉽게 대체 가능.
        2. **단일 책임 원칙(SRP)**: 한 클래스가 한 가지 책임만 가져야 테스트가 단순해짐.
        3. **비즈니스 로직과 외부 의존성 분리**: 데이터베이스, 파일 시스템 등 외부 시스템과의 상호작용을 분리.

- 테스트 가능성을 높이기 위해 설계할 때부터 테스트 환경을 고려해야 함.

## Chapter 16: 테스트와 설계
- 테스트는 설계에 긍정적인 영향을 미칠 수 있음.
    - **테스트 주도 개발(TDD)**: 테스트를 먼저 작성하고, 이를 통과하는 코드를 작성하는 방식.
        - 이를 통해 더 나은 설계와 결합도가 낮은 코드가 자연스럽게 도출됨.
    - **테스트 가능성을 높이는 설계**:
        - 낮은 결합도와 높은 응집도를 유지.
        - 객체 간의 협력을 명확히 정의하여, 테스트 범위를 제한함으로써 테스트가 더 간결해짐.

- **TDD의 장점**:
    1. 더 나은 코드 품질.
    2. 유지보수가 용이해짐.
    3. 테스트 커버리지가 높아져 버그를 사전에 발견 가능.

## Chapter 17: 테스트와 개발 방법론
- 테스트는 다양한 개발 방법론과 밀접하게 연결됨.
    - **애자일**:
        - 지속적인 피드백을 중시하므로, 자동화된 테스트가 핵심.
        - 짧은 주기 동안 여러 번 배포하는 환경에서 테스트의 자동화가 필수.
    - **DevOps**:
        - 코드의 지속적 통합(CI)과 배포(CD)을 위한 자동화된 테스트.
        - 개발과 운영의 경계를 허물고, 테스트를 통해 빠른 피드백을 제공.

- **테스트 우선 개발**:
    - 애자일 환경에서 테스트는 개발 프로세스의 중요한 일부로 포함됨.
    - 코드 작성 이전에 테스트를 작성하고 이를 기준으로 개발을 진행함.
    - 결과적으로 더 나은 코드 품질을 보장하고, 요구사항 변화를 빠르게 반영할 수 있음.
